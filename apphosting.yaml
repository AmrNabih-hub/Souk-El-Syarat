# Firebase App Hosting Configuration
runtime: nodejs20

env:
  - variable: NODE_ENV
    value: production
  - variable: FIREBASE_PROJECT_ID
    value: souk-el-syarat
  - variable: FIREBASE_AUTH_DOMAIN
    value: souk-el-syarat.firebaseapp.com
  - variable: FIREBASE_DATABASE_URL
    value: https://souk-el-syarat-default-rtdb.firebaseio.com
  - variable: FIREBASE_STORAGE_BUCKET
    value: souk-el-syarat.firebasestorage.app
  - variable: FIREBASE_API_KEY
    value: AIzaSyAdkK2OlebHPUsWFCEqY5sWHs5ZL3wUk0Q
  - variable: FIREBASE_MESSAGING_SENDER_ID
    value: "505765285633"
  - variable: FIREBASE_APP_ID
    value: 1:505765285633:web:1bc55f947c68b46d75d500

# Email service configuration
  - variable: EMAIL_SERVICE
    value: firebase
  - variable: EMAIL_FROM
    value: noreply@souk-el-syarat.com

# Real-time configuration
  - variable: ENABLE_REALTIME
    value: "true"

# Server configuration
  - variable: PORT
    value: "8080"
  - variable: API_VERSION
    value: "v1"

service:
  minInstances: 1
  maxInstances: 10
  cpu: 1
  memory: 512Mi
  concurrency: 100

healthCheck:
  path: /health
  checkIntervalSec: 30
  timeoutSec: 10
  failureThreshold: 3
  successThreshold: 1

# Build configuration
build:
  buildCommand: npm install && npm run build