# Firebase App Hosting Configuration - Automatic Rollouts
# Optimized for GitHub automatic deployment

# Build configuration
buildConfig:
  runtime: nodejs20
  buildCommand: "npm run build:apphosting:ci"
  installCommand: "npm install --include=dev --silent --no-audit --no-fund"
  rootDir: "."

# Runtime configuration
runConfig:
  cpu: 1
  memoryMiB: 1024
  minInstances: 0
  maxInstances: 10
  concurrency: 80
  requestTimeout: 60s

# Environment variables
env:
  - variable: NODE_ENV
    value: production
    availability:
      - BUILD
      - RUNTIME

  - variable: CI
    value: "true"
    availability:
      - BUILD
      - RUNTIME

  - variable: PORT
    value: "8080"
    availability:
      - RUNTIME