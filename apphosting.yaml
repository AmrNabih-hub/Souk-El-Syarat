# Firebase App Hosting Configuration - Professional Backend
# Optimized for production deployment with professional error handling

# Build configuration - using Firebase Functions
buildConfig:
  runtime: nodejs20
  buildCommand: "npm run build:functions"
  installCommand: "npm install --include=dev --silent --no-audit --no-fund"
  rootDir: "functions"

# Runtime configuration - optimized for Functions
runConfig:
  cpu: 1
  memoryMiB: 512
  minInstances: 0  # Functions can scale to 0
  maxInstances: 10
  concurrency: 80
  requestTimeout: 60s  # Functions timeout
  startupTimeout: 60s

# Environment variables
env:
  - variable: NODE_ENV
    value: production
    availability:
      - BUILD
      - RUNTIME

  - variable: CI
    value: "true"
    availability:
      - BUILD
      - RUNTIME