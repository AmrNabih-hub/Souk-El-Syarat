# EMERGENCY CONFIGURATION - 5 BUDGET
runtime: nodejs20

# Minimal environment variables
env:
  - variable: NODE_ENV
    value: production
  - variable: FIREBASE_PROJECT_ID
    value: souk-el-syarat

# Ultra-minimal resources
resources:
  cpu: 0.25
  memory: 128Mi
  minInstances: 0
  maxInstances: 1

# Aggressive scaling
scaling:
  minInstances: 0
  maxInstances: 1
  targetCpuUtilization: 0.8
  targetMemoryUtilization: 0.9

# Minimal build
build:
  commands:
    - npm ci --only=production --silent
    - npm run build:production

# Minimal runtime
run:
  commands:
    - node server.js
