# Firebase App Hosting Configuration - Production Ready
# Generated according to official documentation

# Settings for Cloud Run service
runConfig:
  minInstances: 1
  maxInstances: 100
  concurrency: 80
  cpu: 2
  memoryMiB: 1024

# Environment variables and secrets
env:
  # Core Firebase Configuration
  - variable: NODE_ENV
    value: production
    availability:
      - BUILD
      - RUNTIME
  
  - variable: FIREBASE_PROJECT_ID
    value: souk-el-syarat
    availability:
      - BUILD
      - RUNTIME
  
  - variable: FIREBASE_DATABASE_URL
    value: https://souk-el-syarat-default-rtdb.firebaseio.com
    availability:
      - RUNTIME
  
  - variable: FIREBASE_STORAGE_BUCKET
    value: souk-el-syarat.firebasestorage.app
    availability:
      - RUNTIME
  
  - variable: FIREBASE_AUTH_DOMAIN
    value: souk-el-syarat.firebaseapp.com
    availability:
      - RUNTIME
  
  # Server Configuration
  - variable: PORT
    value: "8080"
    availability:
      - RUNTIME
  
  # API Configuration
  - variable: API_BASE_URL
    value: https://api-52vezf5qqa-uc.a.run.app
    availability:
      - RUNTIME
  
  # Security Configuration (will be replaced with secrets)
  - variable: JWT_SECRET
    secret: jwt-secret
  
  - variable: API_KEY
    secret: api-key
  
  # Marketplace Configuration
  - variable: MARKETPLACE_CURRENCY
    value: EGP
    availability:
      - RUNTIME
  
  - variable: PLATFORM_COMMISSION
    value: "0.025"
    availability:
      - RUNTIME
  
  - variable: MIN_PAYOUT_AMOUNT
    value: "100"
    availability:
      - RUNTIME

# Override build and run scripts
scripts:
  buildCommand: npm install --production
  runCommand: node server.js

# Configure build output
outputFiles:
  serverApp:
    include: [node_modules, server.js, package.json, .env]