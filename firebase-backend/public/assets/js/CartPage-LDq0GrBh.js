var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,n=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&i(e,r,t[r]);if(s)for(var r of s(t))l.call(t,r)&&i(e,r,t[r]);return e},c=(e,t)=>{var r={};for(var i in e)a.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&s)for(var i of s(e))t.indexOf(i)<0&&l.call(e,i)&&(r[i]=e[i]);return r},d=(e,t,r)=>new Promise((s,a)=>{var l=e=>{try{n(r.next(e))}catch(t){a(t)}},i=e=>{try{n(r.throw(e))}catch(t){a(t)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,i);n((r=r.apply(e,t)).next())});import{a as o,u as m,j as x,f as u,e as h,z as p}from"./index-BcRxZzHF.js";import{r as j,L as f}from"./react-vendor-Dd_kQiD4.js";import{P as v}from"./product.service-BpTMTcSN.js";import{E as b,L as g}from"./CustomIcons-DM4YvvRG.js";import{m as N,A as y}from"./ui-vendor-BBNIAXd4.js";import{F as w}from"./ArrowLeftIcon-DbhCnCPG.js";import{F as k,a as C}from"./TruckIcon-fIGukBsm.js";import"./firebase-vendor-BCleZyoM.js";function I(e,t){var r=e,{title:s,titleId:a}=r,l=c(r,["title","titleId"]);return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?j.createElement("title",{id:a},s):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const P=j.forwardRef(I);function E(e,t){var r=e,{title:s,titleId:a}=r,l=c(r,["title","titleId"]);return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?j.createElement("title",{id:a},s):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const S=j.forwardRef(E);function L(e,t){var r=e,{title:s,titleId:a}=r,l=c(r,["title","titleId"]);return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?j.createElement("title",{id:a},s):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const O=j.forwardRef(L);function q(e,t){var r=e,{title:s,titleId:a}=r,l=c(r,["title","titleId"]);return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?j.createElement("title",{id:a},s):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const F=j.forwardRef(q),A=()=>{const{language:e,cartItems:s,updateCartItemQuantity:a,removeFromCart:l,clearCart:i,getCartTotal:c,getCartItemsCount:I,addToFavorites:E}=o(),{user:L}=m(),[q,A]=j.useState({}),[B,M]=j.useState(!0),[R,W]=j.useState(null);j.useEffect(()=>{T()},[s]);const T=()=>d(null,null,function*(){try{M(!0);const a=v.getSampleProducts(),l={};[...a,(e=n({},a[0]),s={id:"car-2",title:"BMW X5 2019 - ÙÙ„ Ø£ÙˆØ¨Ø´Ù†",price:85e4,originalPrice:95e4,images:[{id:"car-2-img-1",url:"https://images.unsplash.com/photo-1555215695-3004980ad54e?w=800&h=600&fit=crop",alt:"BMW X5 2019",isPrimary:!0,order:0}]},t(e,r(s)))].forEach(e=>{l[e.id]=e}),A(l)}catch(a){}finally{M(!1)}var e,s}),$=(t,r)=>d(null,null,function*(){if(r<1)return;const s=q[t];if(s){r>s.quantity&&p.error("ar"===e?"Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©":"Requested quantity not available"),W(t);try{a(t,r),p.success("ar"===e?"ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙ…ÙŠØ©":"Quantity updated")}catch(l){p.error("ar"===e?"Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙ…ÙŠØ©":"Error updating quantity")}finally{W(null)}}}),z=t=>new Intl.NumberFormat("ar"===e?"ar-EG":"en-US",{style:"currency",currency:"EGP",minimumFractionDigits:0}).format(t),D=c(),G=I(),H=D>1e3?0:50,Q=D+H;return B?x.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[x.jsx("div",{className:"bg-white border-b border-neutral-200",children:x.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("div",{children:[x.jsxs("h1",{className:"text-3xl font-bold text-neutral-900 flex items-center",children:[x.jsx(u,{className:"w-8 h-8 mr-3 text-primary-500"}),"ar"===e?"Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚":"Shopping Cart"]}),x.jsx("p",{className:"text-neutral-600 mt-1",children:"ar"===e?"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ù„Ø©...":"Loading cart..."})]})})})}),x.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:x.jsx("div",{className:"flex justify-center items-center py-20",children:x.jsx(b,{size:"lg",text:"ar"===e?"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...":"Loading..."})})})]}):0===s.length?x.jsx("div",{className:"min-h-screen bg-neutral-50",children:x.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:x.jsxs(N.div,{className:"text-center py-20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[x.jsx("div",{className:"text-8xl mb-6",children:"ğŸ›’"}),x.jsx("h2",{className:"text-3xl font-bold text-neutral-900 mb-4",children:"ar"===e?"Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©":"Your cart is empty"}),x.jsx("p",{className:"text-xl text-neutral-600 mb-8",children:"ar"===e?"Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³ÙˆÙ‚ ÙˆØ§Ø¶Ù Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªÙŠ ØªØ¹Ø¬Ø¨Ùƒ":"Start shopping and add products you like"}),x.jsxs(f,{to:"/marketplace",className:"btn btn-primary btn-lg",children:[x.jsx(w,{className:"w-5 h-5 mr-2"}),"ar"===e?"ØªØµÙØ­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª":"Browse Products"]})]})})}):x.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[x.jsx("div",{className:"bg-white border-b border-neutral-200",children:x.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-3xl font-bold text-neutral-900 flex items-center",children:[x.jsx(u,{className:"w-8 h-8 mr-3 text-primary-500"}),"ar"===e?"Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚":"Shopping Cart"]}),x.jsx("p",{className:"text-neutral-600 mt-1",children:"ar"===e?`${G} Ù…Ù†ØªØ¬ ÙÙŠ Ø§Ù„Ø³Ù„Ø©`:`${G} items in cart`})]}),x.jsxs(f,{to:"/marketplace",className:"btn btn-outline",children:[x.jsx(w,{className:"w-4 h-4 mr-2"}),"ar"===e?"Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ³ÙˆÙ‚":"Continue Shopping"]})]})})}),x.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h2",{className:"text-xl font-semibold text-neutral-900",children:"ar"===e?"Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª":"Products"}),x.jsxs("button",{onClick:()=>{window.confirm("ar"===e?"Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø§Ù„Ø³Ù„Ø©ØŸ":"Are you sure you want to clear all items from cart?")&&(i(),p.success("ar"===e?"ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø©":"Cart cleared"))},className:"text-sm text-red-600 hover:text-red-700 flex items-center",children:[x.jsx(F,{className:"w-4 h-4 mr-1"}),"ar"===e?"Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø©":"Clear Cart"]})]}),x.jsx(y,{children:s.map(t=>{const r=q[t.productId];if(!r)return null;const s=r.images.find(e=>e.isPrimary)||r.images[0],a=r.price*(null==t?void 0:t.quantity);return x.jsx(N.div,{className:"bg-white rounded-xl border border-neutral-200 p-6 shadow-sm",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},layout:!0,children:x.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-lg overflow-hidden bg-neutral-100",children:x.jsx("img",{src:null==s?void 0:s.url,alt:r.title,className:"w-full h-full object-cover"})})}),x.jsxs("div",{className:"flex-1 space-y-3",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold text-neutral-900 text-lg",children:r.title}),x.jsx("p",{className:"text-neutral-600 text-sm line-clamp-2",children:r.description})]}),r.features&&r.features.length>0&&x.jsx("div",{className:"flex flex-wrap gap-1",children:r.features.slice(0,3).map((e,t)=>x.jsx("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-full",children:e},t))}),x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between space-y-3 md:space-y-0",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:"text-xl font-bold text-primary-600",children:z(r.price)}),r.originalPrice&&r.originalPrice>r.price&&x.jsx("span",{className:"text-sm text-neutral-500 line-through",children:z(r.originalPrice)})]}),x.jsxs("p",{className:"text-sm text-neutral-600",children:["ar"===e?"Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:":"Subtotal:"," ",z(a)]})]}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs("div",{className:"flex items-center border border-neutral-300 rounded-lg",children:[x.jsx("button",{onClick:()=>$(t.productId,(null==t?void 0:t.quantity)-1),disabled:(null==t?void 0:t.quantity)<=1||R===t.productId,className:"p-2 hover:bg-neutral-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x.jsx(S,{className:"w-4 h-4"})}),x.jsx("span",{className:"px-4 py-2 border-x border-neutral-300 font-medium min-w-[3rem] text-center",children:R===t.productId?x.jsx(g,{size:"sm"}):null==t?void 0:t.quantity}),x.jsx("button",{onClick:()=>$(t.productId,(null==t?void 0:t.quantity)+1),disabled:(null==t?void 0:t.quantity)>=r.quantity||R===t.productId,className:"p-2 hover:bg-neutral-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x.jsx(O,{className:"w-4 h-4"})})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("button",{onClick:()=>{return r=t.productId,E(r),l(r),void p.success("ar"===e?"ØªÙ… Ù†Ù‚Ù„ Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ù…ÙØ¶Ù„Ø©":"Product moved to wishlist");var r},className:"p-2 text-neutral-400 hover:text-red-500 transition-colors",title:"ar"===e?"Ù†Ù‚Ù„ Ù„Ù„Ù…ÙØ¶Ù„Ø©":"Move to wishlist",children:x.jsx(h,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>{return r=t.productId,l(r),void p.success("ar"===e?"ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø³Ù„Ø©":"Product removed from cart");var r},className:"p-2 text-neutral-400 hover:text-red-500 transition-colors",title:"ar"===e?"Ø­Ø°Ù Ù…Ù† Ø§Ù„Ø³Ù„Ø©":"Remove from cart",children:x.jsx(F,{className:"w-5 h-5"})})]})]})]})]})]})},t.productId)})})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-6 shadow-sm sticky top-4",children:[x.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-6",children:"ar"===e?"Ù…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø¨":"Order Summary"}),x.jsxs("div",{className:"space-y-4 mb-6",children:[x.jsxs("div",{className:"flex justify-between text-neutral-600",children:[x.jsx("span",{children:"ar"===e?"Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙØ±Ø¹ÙŠ":"Subtotal"}),x.jsx("span",{children:z(D)})]}),x.jsxs("div",{className:"flex justify-between text-neutral-600",children:[x.jsxs("span",{className:"flex items-center",children:[x.jsx(k,{className:"w-4 h-4 mr-1"}),"ar"===e?"Ø§Ù„Ø´Ø­Ù†":"Shipping"]}),x.jsx("span",{children:0===H?x.jsx("span",{className:"text-green-600 font-medium",children:"ar"===e?"Ù…Ø¬Ø§Ù†ÙŠ":"Free"}):z(H)})]}),D<1e3&&x.jsx("div",{className:"text-sm text-neutral-500 bg-neutral-50 p-3 rounded-lg",children:"ar"===e?`Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª Ø¨Ù‚ÙŠÙ…Ø© ${z(1e3-D)} Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ`:`Add ${z(1e3-D)} more for free shipping`}),x.jsx("div",{className:"border-t border-neutral-200 pt-4",children:x.jsxs("div",{className:"flex justify-between text-lg font-semibold text-neutral-900",children:[x.jsx("span",{children:"ar"===e?"Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ":"Total"}),x.jsx("span",{className:"text-primary-600",children:z(Q)})]})})]}),x.jsxs(N.button,{className:"w-full bg-primary-500 text-white py-4 px-6 rounded-lg font-semibold hover:bg-primary-600 transition-colors flex items-center justify-center",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{L||p.error("ar"===e?"ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹":"Please login first"),p("ar"===e?"Ù‚Ø±ÙŠØ¨Ø§Ù‹ - Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹":"Coming Soon - Payment System",{icon:"â„¹ï¸"})},children:[x.jsx(P,{className:"w-5 h-5 mr-2"}),"ar"===e?"Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø´Ø±Ø§Ø¡":"Proceed to Checkout"]}),x.jsx("div",{className:"mt-6 pt-6 border-t border-neutral-200",children:x.jsxs("div",{className:"space-y-3 text-sm text-neutral-600",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx(C,{className:"w-4 h-4 mr-2 text-green-500"}),"ar"===e?"Ø¯ÙØ¹ Ø¢Ù…Ù† ÙˆÙ…Ø¶Ù…ÙˆÙ†":"Secure payment guaranteed"]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx(k,{className:"w-4 h-4 mr-2 text-blue-500"}),"ar"===e?"ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹":"Fast delivery"]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx(u,{className:"w-4 h-4 mr-2 text-purple-500"}),"ar"===e?"Ø¥Ø±Ø¬Ø§Ø¹ Ù…Ø¬Ø§Ù†ÙŠ Ø®Ù„Ø§Ù„ 30 ÙŠÙˆÙ…":"30-day free returns"]})]})})]}),x.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-6 shadow-sm",children:[x.jsx("h4",{className:"font-semibold text-neutral-900 mb-4",children:"ar"===e?"Ù…Ù†ØªØ¬Ø§Øª Ù…Ù‚ØªØ±Ø­Ø©":"You might also like"}),x.jsx("div",{className:"space-y-3",children:v.getSampleProducts().slice(0,2).map(t=>{var r;return x.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors",children:[x.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-neutral-100 flex-shrink-0",children:x.jsx("img",{src:null==(r=t.images[0])?void 0:r.url,alt:t.title,className:"w-full h-full object-cover"})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h5",{className:"font-medium text-neutral-900 text-sm line-clamp-1",children:t.title}),x.jsx("p",{className:"text-primary-600 font-semibold text-sm",children:z(t.price)})]}),x.jsx("button",{className:"btn btn-sm btn-outline",children:"ar"===e?"Ø¥Ø¶Ø§ÙØ©":"Add"})]},t.id)})})]})]})]})})]})};export{A as default};
