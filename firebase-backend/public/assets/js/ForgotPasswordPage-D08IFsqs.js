var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(a,t,i)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i,l=(e,a)=>{for(var t in a||(a={}))r.call(a,t)&&n(e,t,a[t]);if(i)for(var t of i(a))s.call(a,t)&&n(e,t,a[t]);return e};import{u as o,a as c,j as m,b as d,z as p}from"./index-BcRxZzHF.js";import{R as y,L as x}from"./react-vendor-Dd_kQiD4.js";import{u,c as h,a as b}from"./utils-vendor-Bjc_0iGC.js";import{o as j}from"./yup-CF1Gr8ZD.js";import{L as f}from"./LoadingSpinner-DopjEbfj.js";import{m as v}from"./ui-vendor-BBNIAXd4.js";import{F as g}from"./ArrowLeftIcon-DbhCnCPG.js";import"./firebase-vendor-BCleZyoM.js";const w=h().shape({email:b().email("البريد الإلكتروني غير صحيح").required("البريد الإلكتروني مطلوب")}),N=()=>{const{resetPassword:e,isLoading:i,error:r,clearError:s}=o(),{language:n}=c(),[h,b]=y.useState(!1),{register:N,handleSubmit:P,formState:{errors:S,isSubmitting:k},getValues:O}=u({resolver:j(w)}),L={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}};return h?m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[m.jsx("div",{className:"absolute inset-0 pyramid-pattern opacity-5"}),m.jsxs(v.div,{className:"relative max-w-md w-full text-center",variants:L,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.5},children:[m.jsx(v.div,{className:"w-20 h-20 bg-gradient-to-br from-success-500 to-success-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,delay:.2},children:m.jsx(d,{className:"w-10 h-10 text-white"})}),m.jsx(v.h2,{className:"text-3xl font-bold text-neutral-900 mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:"ar"===n?"تم إرسال البريد الإلكتروني":"Email Sent"}),m.jsx(v.p,{className:"text-neutral-600 mb-8 leading-relaxed",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:"ar"===n?`لقد أرسلنا رابط إعادة تعيين كلمة المرور إلى ${O("email")}. يرجى التحقق من صندوق الوارد الخاص بك.`:`We've sent a password reset link to ${O("email")}. Please check your inbox.`}),m.jsxs(v.div,{className:"space-y-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},children:[m.jsx(x,{to:"/login",className:"btn btn-primary w-full btn-lg",children:"ar"===n?"العودة لتسجيل الدخول":"Back to Login"}),m.jsx("button",{onClick:()=>b(!1),className:"btn btn-ghost w-full",children:"ar"===n?"إرسال البريد مرة أخرى":"Send Again"})]})]})]}):m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[m.jsx("div",{className:"absolute inset-0 pyramid-pattern opacity-5"}),m.jsxs(v.div,{className:"relative max-w-md w-full space-y-8",variants:L,initial:"initial",animate:"animate",exit:"exit",transition:{duration:.5},children:[m.jsx(v.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:m.jsxs(x,{to:"/login",className:"inline-flex items-center text-primary-600 hover:text-primary-500 font-medium",children:[m.jsx(g,{className:"w-4 h-4 mr-2"}),"ar"===n?"العودة للخلف":"Back"]})}),m.jsxs("div",{className:"text-center",children:[m.jsx(v.div,{className:"w-20 h-20 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",whileHover:{scale:1.05,rotate:5},transition:{type:"spring",stiffness:300},children:m.jsx("span",{className:"text-white font-bold text-2xl",children:"س"})}),m.jsx(v.h2,{className:"text-3xl font-bold gradient-text",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:"ar"===n?"نسيت كلمة المرور؟":"Forgot Password?"}),m.jsx(v.p,{className:"mt-2 text-neutral-600",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:"ar"===n?"أدخل بريدك الإلكتروني وسنرسل لك رابط إعادة تعيين كلمة المرور":"Enter your email and we'll send you a password reset link"})]}),m.jsx(v.div,{className:"card p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:m.jsxs("form",{onSubmit:P(a=>{return t=function*(){try{s(),yield e(a.email),b(!0),p.success("ar"===n?"تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني":"Password reset link sent to your email")}catch(t){p.error(t.message||"Failed to send reset email")}},new Promise((e,a)=>{var i=e=>{try{s(t.next(e))}catch(i){a(i)}},r=e=>{try{s(t.throw(e))}catch(i){a(i)}},s=a=>a.done?e(a.value):Promise.resolve(a.value).then(i,r);s((t=t.apply(null,null)).next())});var t}),className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 mb-2",children:"ar"===n?"البريد الإلكتروني":"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",(E=l({},N("email")),F={type:"email",id:"email",className:"input pl-10 "+(S.email?"input-error":""),placeholder:"ar"===n?"أدخل بريدك الإلكتروني":"Enter your email",dir:"ar"===n?"rtl":"ltr"},a(E,t(F)))),m.jsx(d,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"})]}),S.email&&m.jsx(v.p,{className:"mt-1 text-sm text-red-600",initial:{opacity:0},animate:{opacity:1},children:S.email.message})]}),r&&m.jsx(v.div,{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:r}),m.jsx(v.button,{type:"submit",disabled:k||i,className:"btn btn-primary w-full btn-lg",whileHover:{scale:1.02},whileTap:{scale:.98},children:k||i?m.jsx(f,{size:"sm",color:"neutral"}):"ar"===n?"إرسال رابط الإعادة":"Send Reset Link"})]})}),m.jsx(v.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:m.jsxs("p",{className:"text-neutral-600",children:["ar"===n?"تذكرت كلمة المرور؟":"Remember your password?"," ",m.jsx(x,{to:"/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"ar"===n?"سجل دخولك":"Sign in"})]})})]})]});var E,F};export{N as default};
