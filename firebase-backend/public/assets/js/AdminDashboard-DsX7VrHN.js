var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,i=(t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,r=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&i(e,a,t[a]);if(s)for(var a of s(t))l.call(t,a)&&i(e,a,t[a]);return e},o=(e,s)=>t(e,a(s)),d=(e,t)=>{var a={};for(var i in e)n.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&s)for(var i of s(e))t.indexOf(i)<0&&l.call(e,i)&&(a[i]=e[i]);return a},c=(e,t,a)=>i(e,"symbol"!=typeof t?t+"":t,a),u=(e,t,a)=>new Promise((s,n)=>{var l=e=>{try{r(a.next(e))}catch(t){n(t)}},i=e=>{try{r(a.throw(e))}catch(t){n(t)}},r=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,i);r((a=a.apply(e,t)).next())});import{l as p,s as m,u as x,a as h,j as v,z as j}from"./index-BcRxZzHF.js";import{r as N}from"./react-vendor-Dd_kQiD4.js";import{t as g,Q as w,$ as b,a3 as f,a4 as y,y as A,X as D,s as C,N as L,P as O,O as E,Z as I,S as M,Y as P,H as T,a0 as _,a1 as k}from"./firebase-vendor-BCleZyoM.js";import{E as S,L as V}from"./CustomIcons-DM4YvvRG.js";import{F as R}from"./BuildingStorefrontIcon-s8ft8mw9.js";import{m as z}from"./ui-vendor-BBNIAXd4.js";import{F as B}from"./CheckCircleIcon-DxUyLSlv.js";import{F as Z}from"./EyeIcon-ySdkiqHN.js";function $(e,t){var a=e,{title:s,titleId:n}=a,l=d(a,["title","titleId"]);return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),s?N.createElement("title",{id:n},s):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const W=N.forwardRef($);function U(e,t){var a=e,{title:s,titleId:n}=a,l=d(a,["title","titleId"]);return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),s?N.createElement("title",{id:n},s):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const F=N.forwardRef(U);function H(e,t){var a=e,{title:s,titleId:n}=a,l=d(a,["title","titleId"]);return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),s?N.createElement("title",{id:n},s):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const G=N.forwardRef(H);function q(e,t){var a=e,{title:s,titleId:n}=a,l=d(a,["title","titleId"]);return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),s?N.createElement("title",{id:n},s):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const Q=N.forwardRef(q);function X(e,t){var a=e,{title:s,titleId:n}=a,l=d(a,["title","titleId"]);return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),s?N.createElement("title",{id:n},s):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Y=N.forwardRef(X);function J(e,t){var a=e,{title:s,titleId:n}=a,l=d(a,["title","titleId"]);return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),s?N.createElement("title",{id:n},s):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const K=N.forwardRef(J);function ee(e,t){var a=e,{title:s,titleId:n}=a,l=d(a,["title","titleId"]);return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),s?N.createElement("title",{id:n},s):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const te=N.forwardRef(ee);class ae{static submitApplication(e,t){return u(this,null,function*(){try{const a=g(w(p,this.APPLICATIONS_COLLECTION_NAME)).id,s=[];if(t.documents&&t.documents.length>0)for(const e of t.documents){const t=b(m,`vendor_applications/${a}/documents/${e.name}`);yield f(t,e);const n=yield y(t);s.push(n)}const n=o(r({id:a,userId:e},t),{address:{street:t.address.street,city:t.address.city,governorate:t.address.governorate,postalCode:t.address.postalCode,country:"Egypt"},documents:s,status:"pending",appliedDate:new Date,reviewedDate:null,reviewedBy:null,reviewNotes:null,createdAt:new Date,updatedAt:new Date});return yield A(g(p,this.APPLICATIONS_COLLECTION_NAME,a),o(r({},n),{appliedDate:D(),createdAt:D(),updatedAt:D()})),a}catch(a){}})}static getApplication(e){return u(this,null,function*(){try{const t=yield C(g(p,this.APPLICATIONS_COLLECTION_NAME,e));if(t.exists()){const e=t.data();return o(r({},e),{appliedDate:e.appliedDate.toDate()||new Date,reviewedDate:e.reviewedDate.toDate()||new Date||null,createdAt:e.createdAt.toDate()||new Date,updatedAt:e.updatedAt.toDate()||new Date})}return null}catch(t){}})}static getApplicationsByUser(e){return u(this,null,function*(){try{const t=L(w(p,this.APPLICATIONS_COLLECTION_NAME),O("userId","==",e),E("appliedDate","desc"));return(yield I(t)).docs.map(e=>{const t=e.data();return o(r({},t),{appliedDate:t.appliedDate.toDate()||new Date,reviewedDate:t.reviewedDate.toDate()||new Date||null,createdAt:t.createdAt.toDate()||new Date,updatedAt:t.updatedAt.toDate()||new Date})})}catch(t){}})}static getAllApplications(e,t=20,a){return u(this,null,function*(){try{let s=L(w(p,this.APPLICATIONS_COLLECTION_NAME),E("appliedDate","desc"),M(t));e&&(s=L(w(p,this.APPLICATIONS_COLLECTION_NAME),O("status","==",e),E("appliedDate","desc"),M(t))),a&&(s=L(s,P(a)));const n=yield I(s);return{applications:n.docs.map(e=>{const t=e.data();return o(r({},t),{appliedDate:t.appliedDate.toDate()||new Date,reviewedDate:t.reviewedDate.toDate()||new Date||null,createdAt:t.createdAt.toDate()||new Date,updatedAt:t.updatedAt.toDate()||new Date})}),lastDoc:n.docs.length>0?n.docs[n.docs.length-1]:null}}catch(s){}})}static reviewApplication(e,t,a,s){return u(this,null,function*(){try{const n=yield this.getApplication(e);if(!n)throw new Error("Application not found");yield T(g(p,this.APPLICATIONS_COLLECTION_NAME,e),{status:a,reviewedBy:t,reviewedDate:D(),reviewNotes:s||null,updatedAt:D()}),"approved"===a&&(yield this.createVendorFromApplication(n))}catch(n){}})}static createVendorFromApplication(e){return u(this,null,function*(){try{const t=g(w(p,this.COLLECTION_NAME)).id,a={id:t,userId:e.userId,businessName:e.businessName,businessType:e.businessType,description:e.description,contactPerson:e.contactPerson,email:e.email,phoneNumber:e.phoneNumber,whatsappNumber:e.whatsappNumber,address:e.address,businessLicense:e.businessLicense,taxId:e.taxId,website:e.website,socialMedia:e.socialMedia,experience:e.experience,specializations:e.specializations,expectedMonthlyVolume:e.expectedMonthlyVolume,status:"active",rating:0,totalReviews:0,totalSales:0,totalProducts:0,joinedDate:new Date,lastActive:new Date,isVerified:!0,logo:void 0,coverImage:void 0,createdAt:new Date,updatedAt:new Date};yield A(g(p,this.COLLECTION_NAME,t),o(r({},a),{joinedDate:D(),lastActive:D(),createdAt:D(),updatedAt:D()}))}catch(t){}})}static getVendor(e){return u(this,null,function*(){try{const t=yield C(g(p,this.COLLECTION_NAME,e));if(t.exists()){const e=t.data();return o(r({},e),{joinedDate:e.joinedDate.toDate()||new Date,lastActive:e.lastActive.toDate()||new Date,createdAt:e.createdAt.toDate()||new Date,updatedAt:e.updatedAt.toDate()||new Date})}return null}catch(t){}})}static getVendorByUserId(e){return u(this,null,function*(){try{const t=L(w(p,this.COLLECTION_NAME),O("userId","==",e),M(1)),a=yield I(t);if(!a.empty){const e=a.docs[0].data();return o(r({},e),{joinedDate:e.joinedDate.toDate()||new Date,lastActive:e.lastActive.toDate()||new Date,createdAt:e.createdAt.toDate()||new Date,updatedAt:e.updatedAt.toDate()||new Date})}return null}catch(t){}})}static getAllVendors(e,t=20,a){return u(this,null,function*(){try{let s=L(w(p,this.COLLECTION_NAME),E("joinedDate","desc"),M(t));e&&(s=L(w(p,this.COLLECTION_NAME),O("status","==",e),E("joinedDate","desc"),M(t))),a&&(s=L(s,P(a)));const n=yield I(s);return{vendors:n.docs.map(e=>{const t=e.data();return o(r({},t),{joinedDate:t.joinedDate.toDate()||new Date,lastActive:t.lastActive.toDate()||new Date,createdAt:t.createdAt.toDate()||new Date,updatedAt:t.updatedAt.toDate()||new Date})}),lastDoc:n.docs.length>0?n.docs[n.docs.length-1]:null}}catch(s){}})}static updateVendor(e,t){return u(this,null,function*(){try{const a=o(r({},t),{updatedAt:D()});if(t.logo){const s=b(m,`vendors/${e}/logo.jpg`);yield f(s,t.logo),a.logo=yield y(s),delete a.logo}yield T(g(p,this.COLLECTION_NAME,e),a)}catch(a){}})}static updateVendorStatus(e,t){return u(this,null,function*(){try{yield T(g(p,this.COLLECTION_NAME,e),{status:t,updatedAt:D()})}catch(a){}})}static deleteVendor(e){return u(this,null,function*(){try{const a=yield this.getVendor(e);if(null==a?void 0:a.logo)try{const t=b(m,`vendors/${e}/logo.jpg`);yield _(t)}catch(t){}yield k(g(p,this.COLLECTION_NAME,e))}catch(a){}})}static searchVendors(e,t=20){return u(this,null,function*(){try{const a=L(w(p,this.COLLECTION_NAME),O("status","==","active"),E("businessName"),M(t));return(yield I(a)).docs.map(e=>{const t=e.data();return o(r({},t),{joinedDate:t.joinedDate.toDate()||new Date,lastActive:t.lastActive.toDate()||new Date,createdAt:t.createdAt.toDate()||new Date,updatedAt:t.updatedAt.toDate()||new Date})}).filter(t=>t.businessName.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||t.specializations.some(t=>t.toLowerCase().includes(e.toLowerCase())))}catch(a){}})}static getVendorStats(){return u(this,null,function*(){try{const[e,t,a]=yield Promise.all([I(L(w(p,this.COLLECTION_NAME),O("status","==","active"))),I(L(w(p,this.COLLECTION_NAME),O("status","==","pending"))),I(L(w(p,this.COLLECTION_NAME),O("status","==","suspended")))]),[s,n,l]=yield Promise.all([I(L(w(p,this.APPLICATIONS_COLLECTION_NAME),O("status","==","pending"))),I(L(w(p,this.APPLICATIONS_COLLECTION_NAME),O("status","==","approved"))),I(L(w(p,this.APPLICATIONS_COLLECTION_NAME),O("status","==","rejected")))]);return{total:e.size+t.size+a.size,active:e.size,pending:t.size,suspended:a.size,applications:{pending:s.size,approved:n.size,rejected:l.size}}}catch(e){}})}}c(ae,"COLLECTION_NAME","vendors"),c(ae,"APPLICATIONS_COLLECTION_NAME","vendor_applications");const se=()=>{var e;const{user:t}=x(),{language:a}=h(),[s,n]=N.useState("overview"),[l,i]=N.useState(!0),[r,o]=N.useState(null),[d,c]=N.useState([]),[p,m]=N.useState([]),[g,w]=N.useState(null),[b,f]=N.useState(!1),[y,A]=N.useState("approved"),[D,C]=N.useState(""),[L,O]=N.useState(!1);N.useEffect(()=>{E()},[]);const E=()=>u(null,null,function*(){try{i(!0);const e=yield ae.getVendorStats(),{applications:t}=yield ae.getAllApplications("pending",10),{vendors:a}=yield ae.getAllVendors("active",10);o({totalUsers:1250,totalVendors:e.total,totalProducts:850,totalOrders:420,pendingApplications:e.applications.pending,monthlyRevenue:125e3}),c(t),m(a)}catch(e){}finally{i(!1)}}),I=({title:e,value:t,icon:a,color:s,trend:n})=>v.jsxs(z.div,{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6 hover:shadow-md transition-shadow",whileHover:{y:-2},children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("div",{className:`p-3 rounded-lg ${s}`,children:a}),n&&v.jsxs("div",{className:"text-sm font-medium "+(n>0?"text-green-600":"text-red-600"),children:[n>0?"+":"",n,"%"]})]}),v.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-1",children:t}),v.jsx("p",{className:"text-neutral-600 text-sm",children:e})]}),M=({application:e})=>v.jsxs(z.div,{className:"bg-white rounded-lg border border-neutral-200 p-4 hover:shadow-md transition-shadow",whileHover:{scale:1.01},children:[v.jsxs("div",{className:"flex justify-between items-start mb-3",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-neutral-900",children:e.businessName}),v.jsx("p",{className:"text-sm text-neutral-600",children:e.contactPerson})]}),v.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"ar"===a?"قيد المراجعة":"Pending"})]}),v.jsxs("div",{className:"space-y-2 mb-4",children:[v.jsxs("div",{className:"flex items-center text-sm text-neutral-600",children:[v.jsx(R,{className:"w-4 h-4 mr-2"}),e.businessType]}),v.jsxs("div",{className:"flex items-center text-sm text-neutral-600",children:[v.jsx(F,{className:"w-4 h-4 mr-2"}),e.appliedDate.toLocaleDateString("ar"===a?"ar-EG":"en-US")]})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsxs("button",{onClick:()=>{w(e),A("approved"),f(!0)},className:"flex-1 btn btn-sm bg-green-500 text-white hover:bg-green-600",children:[v.jsx(B,{className:"w-4 h-4 mr-1"}),"ar"===a?"قبول":"Approve"]}),v.jsxs("button",{onClick:()=>{w(e),A("rejected"),f(!0)},className:"flex-1 btn btn-sm bg-red-500 text-white hover:bg-red-600",children:[v.jsx(te,{className:"w-4 h-4 mr-1"}),"ar"===a?"رفض":"Reject"]}),v.jsx("button",{className:"btn btn-sm btn-outline",children:v.jsx(Z,{className:"w-4 h-4"})})]})]}),P=({vendor:e})=>v.jsxs(z.div,{className:"bg-white rounded-lg border border-neutral-200 p-4 hover:shadow-md transition-shadow",whileHover:{scale:1.01},children:[v.jsxs("div",{className:"flex items-center mb-3",children:[v.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:v.jsx(R,{className:"w-6 h-6 text-primary-600"})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-neutral-900",children:e.businessName}),v.jsx("p",{className:"text-sm text-neutral-600",children:e.businessType})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-lg font-bold text-neutral-900",children:e.totalProducts}),v.jsx("p",{className:"text-xs text-neutral-600",children:"ar"===a?"المنتجات":"Products"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-lg font-bold text-neutral-900",children:e.rating.toFixed(1)}),v.jsx("p",{className:"text-xs text-neutral-600",children:"ar"===a?"التقييم":"Rating"})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"px-2 py-1 text-xs rounded-full "+("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"active"===e.status?"ar"===a?"نشط":"Active":e.status}),v.jsxs("button",{className:"btn btn-sm btn-outline",children:[v.jsx(Z,{className:"w-4 h-4 mr-1"}),"ar"===a?"عرض":"View"]})]})]});return l?v.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:v.jsx(S,{size:"xl",text:"ar"===a?"جاري تحميل لوحة التحكم...":"Loading dashboard..."})}):v.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[v.jsx("div",{className:"bg-white border-b border-neutral-200",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsx("div",{className:"py-6",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"ar"===a?"لوحة تحكم الإدارة":"Admin Dashboard"}),v.jsx("p",{className:"text-neutral-600 mt-1",children:"ar"===a?"إدارة المنصة والتجار":"Manage platform and vendors"})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"text-sm text-neutral-600",children:["ar"===a?"مرحباً،":"Welcome,"," ",null==t?void 0:t.displayName]}),v.jsx("p",{className:"text-xs text-neutral-500",children:(new Date).toLocaleDateString("ar"===a?"ar-EG":"en-US")})]})]})})})}),v.jsx("div",{className:"bg-white border-b border-neutral-200",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"ar"===a?"نظرة عامة":"Overview",icon:W},{id:"applications",label:"ar"===a?"طلبات التجار":"Applications",icon:Q},{id:"vendors",label:"ar"===a?"التجار":"Vendors",icon:R},{id:"analytics",label:"ar"===a?"التحليلات":"Analytics",icon:W}].map(e=>v.jsxs("button",{onClick:()=>n(e.id),className:"flex items-center px-1 py-4 border-b-2 font-medium text-sm "+(s===e.id?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"),children:[v.jsx(e.icon,{className:"w-5 h-5 mr-2"}),e.label]},e.id))})})}),v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===s&&v.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsx(I,{title:"ar"===a?"إجمالي المستخدمين":"Total Users",value:(null==r?void 0:r.totalUsers)||0,icon:v.jsx(K,{className:"w-6 h-6 text-blue-600"}),color:"bg-blue-100",trend:12}),v.jsx(I,{title:"ar"===a?"إجمالي التجار":"Total Vendors",value:(null==r?void 0:r.totalVendors)||0,icon:v.jsx(R,{className:"w-6 h-6 text-green-600"}),color:"bg-green-100",trend:8}),v.jsx(I,{title:"ar"===a?"إجمالي المنتجات":"Total Products",value:(null==r?void 0:r.totalProducts)||0,icon:v.jsx(Y,{className:"w-6 h-6 text-purple-600"}),color:"bg-purple-100",trend:15}),v.jsx(I,{title:"ar"===a?"الطلبات قيد المراجعة":"Pending Applications",value:(null==r?void 0:r.pendingApplications)||0,icon:v.jsx(F,{className:"w-6 h-6 text-yellow-600"}),color:"bg-yellow-100"}),v.jsx(I,{title:"ar"===a?"إجمالي الطلبات":"Total Orders",value:(null==r?void 0:r.totalOrders)||0,icon:v.jsx(Y,{className:"w-6 h-6 text-indigo-600"}),color:"bg-indigo-100",trend:22}),v.jsx(I,{title:"ar"===a?"الإيرادات الشهرية":"Monthly Revenue",value:`${(null==(e=null==r?void 0:r.monthlyRevenue)?void 0:e.toLocaleString())||0} ${"ar"===a?"ج.م":"EGP"}`,icon:v.jsx(G,{className:"w-6 h-6 text-green-600"}),color:"bg-green-100",trend:18})]}),d.length>0&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-4",children:"ar"===a?"طلبات التجار الحديثة":"Recent Applications"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.slice(0,3).map(e=>v.jsx(M,{application:e},e.id))})]})]}),"applications"===s&&v.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"ar"===a?"طلبات التجار":"Vendor Applications"}),v.jsx("div",{className:"flex items-center space-x-4",children:v.jsxs("select",{className:"input",children:[v.jsx("option",{value:"all",children:"ar"===a?"جميع الطلبات":"All Applications"}),v.jsx("option",{value:"pending",children:"ar"===a?"قيد المراجعة":"Pending"}),v.jsx("option",{value:"approved",children:"ar"===a?"مقبولة":"Approved"}),v.jsx("option",{value:"rejected",children:"ar"===a?"مرفوضة":"Rejected"})]})})]}),d.length>0?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(e=>v.jsx(M,{application:e},e.id))}):v.jsxs("div",{className:"text-center py-12",children:[v.jsx(Q,{className:"w-16 h-16 text-neutral-400 mx-auto mb-4"}),v.jsx("p",{className:"text-neutral-600",children:"ar"===a?"لا توجد طلبات قيد المراجعة":"No pending applications"})]})]}),"vendors"===s&&v.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"ar"===a?"التجار":"Vendors"}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("input",{type:"search",placeholder:"ar"===a?"البحث في التجار...":"Search vendors...",className:"input"}),v.jsxs("select",{className:"input",children:[v.jsx("option",{value:"all",children:"ar"===a?"جميع التجار":"All Vendors"}),v.jsx("option",{value:"active",children:"ar"===a?"نشط":"Active"}),v.jsx("option",{value:"suspended",children:"ar"===a?"معلق":"Suspended"})]})]})]}),p.length>0?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(e=>v.jsx(P,{vendor:e},e.id))}):v.jsxs("div",{className:"text-center py-12",children:[v.jsx(R,{className:"w-16 h-16 text-neutral-400 mx-auto mb-4"}),v.jsx("p",{className:"text-neutral-600",children:"ar"===a?"لا يوجد تجار":"No vendors found"})]})]}),"analytics"===s&&v.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[v.jsx(W,{className:"w-16 h-16 text-neutral-400 mx-auto mb-4"}),v.jsx("p",{className:"text-neutral-600",children:"ar"===a?"قريباً - تحليلات مفصلة":"Coming Soon - Detailed Analytics"})]})]}),b&&g&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs(z.div,{className:"bg-white rounded-xl max-w-md w-full mx-4 p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:[v.jsx("h3",{className:"text-lg font-bold text-neutral-900 mb-4",children:"approved"===y?"ar"===a?"قبول الطلب":"Approve Application":"ar"===a?"رفض الطلب":"Reject Application"}),v.jsxs("div",{className:"mb-4",children:[v.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:v.jsx("strong",{children:g.businessName})}),v.jsxs("p",{className:"text-sm text-neutral-600",children:[g.contactPerson," - ",g.email]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"ar"===a?"ملاحظات المراجعة":"Review Notes"}),v.jsx("textarea",{value:D,onChange:e=>C(e.target.value),rows:4,className:"input w-full",placeholder:"ar"===a?"أضف ملاحظات حول قرار المراجعة...":"Add notes about the review decision..."})]}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsx("button",{onClick:()=>{f(!1),w(null),C("")},className:"flex-1 btn btn-outline",disabled:L,children:"ar"===a?"إلغاء":"Cancel"}),v.jsx("button",{onClick:()=>u(null,null,function*(){if(g&&(null==t?void 0:t.id))try{O(!0),yield ae.reviewApplication(g.id,t.id,y,D),j.success("ar"===a?`تم ${"approved"===y?"قبول":"رفض"} الطلب بنجاح`:`Application ${"approved"===y?"approved":"rejected"} successfully`),f(!1),w(null),C(""),E()}catch(e){}finally{O(!1)}}),disabled:L,className:"flex-1 btn "+("approved"===y?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"),children:L?v.jsx(V,{size:"sm"}):"approved"===y?"ar"===a?"قبول":"Approve":"ar"===a?"رفض":"Reject"})]})]})})]})};export{se as default};
