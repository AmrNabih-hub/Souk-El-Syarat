var e=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,t=(t,r)=>{var l={};for(var i in t)s.call(t,i)&&r.indexOf(i)<0&&(l[i]=t[i]);if(null!=t&&e)for(var i of e(t))r.indexOf(i)<0&&a.call(t,i)&&(l[i]=t[i]);return l};import{a as r,u as l,j as i,e as n,g as c,f as o,z as d,h as x}from"./index-BcRxZzHF.js";import{r as m}from"./react-vendor-Dd_kQiD4.js";import{H as h,a as u}from"./CustomIcons-DM4YvvRG.js";import{A as p,m as g}from"./ui-vendor-BBNIAXd4.js";import{F as j}from"./StarIcon-Bsyjj-I4.js";import{F as b}from"./EyeIcon-ySdkiqHN.js";import{F as v}from"./CheckBadgeIcon-CtGb0htM.js";import{a as f,F as N}from"./TruckIcon-fIGukBsm.js";function w(e,s){var a=e,{title:r,titleId:l}=a,i=t(a,["title","titleId"]);return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},i),r?m.createElement("title",{id:l},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const y=m.forwardRef(w);function k(e,s){var a=e,{title:r,titleId:l}=a,i=t(a,["title","titleId"]);return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},i),r?m.createElement("title",{id:l},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const C=m.forwardRef(k);function F(e,s){var a=e,{title:r,titleId:l}=a,i=t(a,["title","titleId"]);return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},i),r?m.createElement("title",{id:l},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const S=m.forwardRef(F);function P(e,s){var a=e,{title:r,titleId:l}=a,i=t(a,["title","titleId"]);return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},i),r?m.createElement("title",{id:l},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const E=m.forwardRef(P);function A(e,s){var a=e,{title:r,titleId:l}=a,i=t(a,["title","titleId"]);return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},i),r?m.createElement("title",{id:l},r):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const I=m.forwardRef(A),T=({product:e,isOpen:s,onClose:a,onAddToCart:t,onToggleFavorite:x})=>{var u,w,y;const{language:k,isFavorite:F,addToFavorites:P,removeFromFavorites:A}=r(),{user:T}=l(),[L,O]=m.useState(0),[M,D]=m.useState(1),[R,G]=m.useState("details"),B=F(e.id),W="cars"===e.category,z=W?e.carDetails:null,H=e=>new Intl.NumberFormat("ar"===k?"ar-EG":"en-US",{style:"currency",currency:"EGP",minimumFractionDigits:0}).format(e);return s?i.jsx(p,{children:i.jsx(g.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",variants:{hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},initial:"hidden",animate:"visible",exit:"exit",onClick:a,children:i.jsxs(g.div,{className:"bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden shadow-2xl",variants:{hidden:{scale:.8,opacity:0},visible:{scale:1,opacity:1,transition:{type:"spring",damping:25,stiffness:300}},exit:{scale:.8,opacity:0}},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:e.title}),i.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium "+("new"===e.condition?"bg-green-100 text-green-800":"used"===e.condition?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"),children:(q=e.condition,(null==(U={new:{ar:"جديد",en:"New"},used:{ar:"مستعمل",en:"Used"},refurbished:{ar:"مجدد",en:"Refurbished"}}[q])?void 0:U[k])||q)})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>{T||d.error("ar"===k?"يجب تسجيل الدخول أولاً":"Please login first"),B?(A(e.id),d.success("ar"===k?"تم إزالة المنتج من المفضلة":"Removed from favorites")):(P(e.id),d.success("ar"===k?"تم إضافة المنتج للمفضلة":"Added to favorites")),null==x||x(e.id,!B)},className:"p-2 rounded-full hover:bg-neutral-100 transition-colors",children:B?i.jsx(h,{className:"w-6 h-6 text-red-500"}):i.jsx(n,{className:"w-6 h-6 text-neutral-400"})}),i.jsx("button",{className:"p-2 rounded-full hover:bg-neutral-100 transition-colors",children:i.jsx(I,{className:"w-6 h-6 text-neutral-400"})}),i.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-neutral-100 transition-colors",children:i.jsx(c,{className:"w-6 h-6 text-neutral-400"})})]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row overflow-hidden",children:[i.jsxs("div",{className:"lg:w-1/2 relative",children:[i.jsxs("div",{className:"aspect-square bg-neutral-100 relative overflow-hidden",children:[i.jsx(p,{mode:"wait",children:i.jsx(g.img,{src:null==(u=e.images[L])?void 0:u.url,alt:(null==(w=e.images[L])?void 0:w.alt)||e.title,className:"w-full h-full object-cover",initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3}},L)}),e.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{O(s=>(s-1+e.images.length)%e.images.length)},className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors",children:i.jsx(S,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>{O(s=>(s+1)%e.images.length)},className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors",children:i.jsx(E,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:[L+1," / ",e.images.length]})]}),e.images.length>1&&i.jsx("div",{className:"flex space-x-2 p-4 overflow-x-auto",children:e.images.map((e,s)=>i.jsx("button",{onClick:()=>O(s),className:"flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-colors "+(s===L?"border-primary-500":"border-neutral-200 hover:border-primary-300"),children:i.jsx("img",{src:e.url,alt:e.alt,className:"w-full h-full object-cover"})},s))})]}),i.jsxs("div",{className:"lg:w-1/2 p-6 overflow-y-auto max-h-[70vh]",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"flex items-center",children:[...Array(5)].map((s,a)=>i.jsx(j,{className:"w-5 h-5 "+(a<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-neutral-300")},a))}),i.jsxs("span",{className:"text-neutral-600",children:[e.rating.toFixed(1)," (",e.reviewCount," ","ar"===k?"تقييم":"reviews",")"]})]}),i.jsxs("div",{className:"flex items-center text-neutral-500",children:[i.jsx(b,{className:"w-4 h-4 mr-1"}),e.views," ","ar"===k?"مشاهدة":"views"]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("span",{className:"text-3xl font-bold text-primary-600",children:H(e.price)}),e.originalPrice&&e.originalPrice>e.price&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-xl text-neutral-500 line-through",children:H(e.originalPrice)}),i.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-sm font-medium",children:["-",Math.round((e.originalPrice-e.price)/e.originalPrice*100),"%"]})]})]}),i.jsx("div",{className:"flex items-center",children:e.inStock?i.jsxs(i.Fragment,{children:[i.jsx(v,{className:"w-5 h-5 text-green-500 mr-2"}),i.jsx("span",{className:"text-green-600 font-medium",children:"ar"===k?"متوفر في المخزن":"In Stock"}),e.quantity>1&&i.jsxs("span",{className:"text-neutral-500 ml-2",children:["(",e.quantity," ","ar"===k?"قطعة متاحة":"available",")"]})]}):i.jsx("span",{className:"text-red-600 font-medium",children:"ar"===k?"غير متوفر":"Out of Stock"})})]}),W&&z&&i.jsxs("div",{className:"mb-6 p-4 bg-neutral-50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-neutral-900 mb-3",children:"ar"===k?"تفاصيل السيارة":"Car Details"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-neutral-600 mr-2",children:"ar"===k?"السنة:":"Year:"}),i.jsx("span",{className:"font-medium",children:z.year})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-neutral-600 mr-2",children:"ar"===k?"المسافة:":"Mileage:"}),i.jsxs("span",{className:"font-medium",children:[null==(y=z.mileage)?void 0:y.toLocaleString()," ","ar"===k?"كم":"km"]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-neutral-600 mr-2",children:"ar"===k?"الوقود:":"Fuel:"}),i.jsx("span",{className:"font-medium",children:z.fuelType})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-neutral-600 mr-2",children:"ar"===k?"الناقل:":"Transmission:"}),i.jsx("span",{className:"font-medium",children:z.transmission})]}),i.jsxs("div",{className:"col-span-2 flex items-center",children:[i.jsx("span",{className:"text-neutral-600 mr-2",children:"ar"===k?"الطراز:":"Model:"}),i.jsxs("span",{className:"font-medium",children:[z.make," ",z.model]})]})]})]}),"services"!==e.category&&e.inStock&&i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-neutral-700 mr-3",children:"ar"===k?"الكمية:":"Quantity:"}),i.jsxs("div",{className:"flex items-center border border-neutral-300 rounded-lg",children:[i.jsx("button",{onClick:()=>D(Math.max(1,M-1)),className:"px-3 py-2 hover:bg-neutral-100 transition-colors",children:"-"}),i.jsx("span",{className:"px-4 py-2 border-x border-neutral-300",children:M}),i.jsx("button",{onClick:()=>D(Math.min(e.quantity,M+1)),className:"px-3 py-2 hover:bg-neutral-100 transition-colors",children:"+"})]})]}),i.jsxs(g.button,{onClick:()=>{T||d.error("ar"===k?"يجب تسجيل الدخول أولاً":"Please login first"),null==t||t(e.id,M),d.success("ar"===k?"تم إضافة المنتج للسلة":"Added to cart")},className:"flex-1 bg-primary-500 text-white py-3 px-6 rounded-lg font-medium hover:bg-primary-600 transition-colors flex items-center justify-center",whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx(o,{className:"w-5 h-5 mr-2"}),"ar"===k?"إضافة للسلة":"Add to Cart"]})]})}),"services"===e.category&&i.jsx("div",{className:"mb-6",children:i.jsxs(g.button,{className:"w-full bg-primary-500 text-white py-3 px-6 rounded-lg font-medium hover:bg-primary-600 transition-colors flex items-center justify-center",whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx(C,{className:"w-5 h-5 mr-2"}),"ar"===k?"حجز الخدمة":"Book Service"]})}),i.jsx("div",{className:"border-b border-neutral-200 mb-4",children:i.jsx("nav",{className:"flex space-x-8",children:[{id:"details",label:"ar"===k?"التفاصيل":"Details"},{id:"specs",label:"ar"===k?"المواصفات":"Specifications"},{id:"reviews",label:"ar"===k?"التقييمات":"Reviews"}].map(e=>i.jsx("button",{onClick:()=>G(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm "+(R===e.id?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700"),children:e.label},e.id))})}),i.jsxs("div",{className:"space-y-4",children:["details"===R&&i.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-neutral-900 mb-2",children:"ar"===k?"الوصف":"Description"}),i.jsx("p",{className:"text-neutral-700 leading-relaxed",children:e.description})]}),e.features&&e.features.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-neutral-900 mb-2",children:"ar"===k?"المميزات":"Features"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.features.map((e,s)=>i.jsx("span",{className:"px-3 py-1 bg-primary-100 text-primary-800 text-sm rounded-full",children:e},s))})]}),e.warranty&&i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(f,{className:"w-5 h-5 text-green-600 mr-2"}),i.jsx("h4",{className:"font-semibold text-green-900",children:"ar"===k?"الضمان":"Warranty"})]}),i.jsxs("p",{className:"text-green-800",children:[e.warranty.duration," ","ar"===k?"شهر":"months"," -"," ",e.warranty.coverage]})]})]}),"specs"===R&&i.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-3",children:e.specifications.map((e,s)=>i.jsxs("div",{className:"flex justify-between py-2 border-b border-neutral-100",children:[i.jsx("span",{className:"text-neutral-600",children:e.name}),i.jsx("span",{className:"font-medium text-neutral-900",children:e.value})]},s))}),"reviews"===R&&i.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-8 text-neutral-500",children:"ar"===k?"قريباً - نظام التقييمات":"Coming Soon - Reviews System"})]}),i.jsx("div",{className:"mt-6 pt-6 border-t border-neutral-200",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center text-neutral-600",children:[i.jsx(f,{className:"w-4 h-4 mr-2"}),"ar"===k?"ضمان الجودة":"Quality Guarantee"]}),i.jsxs("div",{className:"flex items-center text-neutral-600",children:[i.jsx(N,{className:"w-4 h-4 mr-2"}),"ar"===k?"توصيل سريع":"Fast Delivery"]})]})})]})]})]})})}):null;var q,U},L=({product:e,isOpen:s,onClose:a,onAddToCart:t,onToggleFavorite:l,isFavorite:d})=>{const{language:h,currency:v}=r(),[N,w]=m.useState(0),[k,C]=m.useState(!0),F="ar"===h,P=e=>new Intl.NumberFormat("ar"===h?"ar-EG":"en-EG").format(e);return s?i.jsx(p,{children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs(g.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:[.25,.1,.25,1]},className:x("relative w-full max-w-6xl max-h-[90vh] bg-white dark:bg-slate-900 rounded-2xl shadow-2xl overflow-hidden",F?"font-arabic":""),children:[i.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-6 bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("button",{onClick:a,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:i.jsx(c,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white line-clamp-1",children:e.title}),i.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[e.category," • ",e.subcategory]})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>{return s=function*(){if(navigator.share)try{yield navigator.share({title:e.title,text:e.description,url:window.location.href})}catch(s){}else navigator.clipboard.writeText(window.location.href)},new Promise((e,a)=>{var t=e=>{try{l(s.next(e))}catch(t){a(t)}},r=e=>{try{l(s.throw(e))}catch(t){a(t)}},l=s=>s.done?e(s.value):Promise.resolve(s.value).then(t,r);l((s=s.apply(null,null)).next())});var s},className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:i.jsx(I,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>l(e.id),className:x("p-2 rounded-full transition-all duration-200",d?"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20":"text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800"),children:d?i.jsx(u,{className:"w-5 h-5"}):i.jsx(n,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row h-full max-h-[calc(90vh-80px)] overflow-hidden",children:[i.jsxs("div",{className:"lg:w-1/2 relative bg-slate-100 dark:bg-slate-800",children:[i.jsxs("div",{className:"relative h-96 lg:h-full",children:[i.jsx(p,{mode:"wait",children:i.jsx(g.img,{src:e.images[N].url,alt:e.images[N].alt,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:k?0:1},exit:{opacity:0},onLoad:()=>C(!1),loading:"lazy"},N)}),k&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-100 dark:bg-slate-800",children:i.jsx("div",{className:"w-8 h-8 border-2 border-amber-500 border-t-transparent rounded-full animate-spin"})}),e.images.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{w(s=>(s-1+e.images.length)%e.images.length),C(!0)},className:"absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors",children:i.jsx(S,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>{w(s=>(s+1)%e.images.length),C(!0)},className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors",children:i.jsx(E,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"absolute bottom-4 right-4 px-3 py-1 bg-black/50 text-white text-sm rounded-full",children:[N+1," / ",e.images.length]})]}),e.images.length>1&&i.jsx("div",{className:"flex space-x-2 p-4 overflow-x-auto",children:e.images.map((e,s)=>i.jsx("button",{onClick:()=>{w(s),C(!0)},className:x("flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all",s===N?"border-amber-500 ring-2 ring-amber-500/20":"border-slate-300 dark:border-slate-600 hover:border-amber-400"),children:i.jsx("img",{src:e.url,alt:e.alt,className:"w-full h-full object-cover",loading:"lazy"})},e.id))})]}),i.jsx("div",{className:"lg:w-1/2 p-6 overflow-y-auto",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsxs("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:[P(e.price)," ",v]}),e.originalPrice&&e.originalPrice>e.price&&i.jsxs("span",{className:"text-lg text-slate-500 line-through",children:[P(e.originalPrice)," ",v]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"flex items-center",children:[...Array(5)].map((s,a)=>i.jsx(j,{className:x("w-4 h-4",a<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-slate-300")},a))}),i.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[e.rating," (",e.reviewCount," ","ar"===h?"تقييم":"reviews",")"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-slate-600 dark:text-slate-400",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(b,{className:"w-4 h-4"}),i.jsx("span",{children:e.views})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(n,{className:"w-4 h-4"}),i.jsx("span",{children:e.favorites})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"ar"===h?"الوصف":"Description"}),i.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:e.description})]}),e.specifications&&e.specifications.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"ar"===h?"المواصفات":"Specifications"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.specifications.map((e,s)=>i.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[i.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:e.name}),i.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:e.value})]},s))})]}),e.features&&e.features.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"ar"===h?"المميزات":"Features"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.features.map((e,s)=>i.jsxs("div",{className:"flex items-center space-x-2 text-slate-700 dark:text-slate-300",children:[i.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full flex-shrink-0"}),i.jsx("span",{className:"text-sm",children:e})]},s))})]}),e.warranty&&i.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[i.jsx(f,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"ar"===h?"الضمان":"Warranty"}),i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.warranty.duration," ","ar"===h?"شهر":"months"," -"," ",e.warranty.coverage]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600 dark:text-slate-400",children:[i.jsx(y,{className:"w-4 h-4"}),i.jsxs("span",{children:["ar"===h?"تاريخ الإضافة":"Listed",":"," ",(A=e.createdAt,new Intl.DateTimeFormat("ar"===h?"ar-EG":"en-EG",{year:"numeric",month:"long",day:"numeric"}).format(A))]})]}),i.jsx("div",{className:"flex items-center space-x-2 text-sm text-slate-600 dark:text-slate-400",children:i.jsx("span",{className:x("px-2 py-1 rounded-full text-xs font-medium","new"===e.condition?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400"),children:"new"===e.condition?"ar"===h?"جديد":"New":"ar"===h?"مستعمل":"Used"})})]}),i.jsx("div",{className:"sticky bottom-0 bg-white dark:bg-slate-900 pt-6 border-t border-slate-200 dark:border-slate-700",children:i.jsx("div",{className:"flex space-x-4",children:i.jsxs("button",{onClick:()=>t(e),disabled:!e.inStock,className:x("flex-1 flex items-center justify-center space-x-2 px-6 py-3 rounded-xl font-semibold transition-all duration-200",e.inStock?"bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white shadow-lg hover:shadow-xl":"bg-slate-300 text-slate-500 cursor-not-allowed"),children:[i.jsx(o,{className:"w-5 h-5"}),i.jsx("span",{children:e.inStock?"ar"===h?"أضف للسلة":"Add to Cart":"ar"===h?"غير متوفر":"Out of Stock"})]})})})]})})]})]})})}):null;var A},O=({product:e,onAddToCart:s,onToggleFavorite:a,className:t=""})=>{var l,c,x;const{language:u,addToFavorites:f,removeFromFavorites:N,isFavorite:w}=r(),[y,k]=m.useState(!1),[C,F]=m.useState(!1),[S,P]=m.useState(!1),[E,A]=m.useState(0),I=w(e.id),O=e.images.find(e=>e.isPrimary)||e.images[0],M="cars"===e.category?e.carDetails:null,D=e=>new Intl.NumberFormat("ar"===u?"ar-EG":"en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0}).format(e);return i.jsxs(i.Fragment,{children:[i.jsxs(g.div,{className:`group relative bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-neutral-200 hover:border-primary-300 ${t}`,whileHover:{y:-4,scale:1.02},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[i.jsxs("div",{className:"relative h-48 bg-neutral-100 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsx(p,{mode:"wait",children:i.jsx(g.img,{src:(null==(l=e.images[E])?void 0:l.url)||(null==O?void 0:O.url),alt:(null==(c=e.images[E])?void 0:c.alt)||(null==O?void 0:O.alt),className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onLoad:()=>{P(!0)},onError:()=>{P(!1)},initial:{opacity:0},animate:{opacity:S?1:0},exit:{opacity:0},loading:"lazy"},E)}),e.images.length>1&&i.jsxs("div",{className:"absolute inset-0 flex items-center justify-between opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[i.jsx("button",{onClick:s=>{s.preventDefault(),s.stopPropagation(),A(s=>(s-1+e.images.length)%e.images.length)},className:"ml-2 p-1.5 bg-white/80 hover:bg-white rounded-full shadow-md backdrop-blur-sm transition-all duration-200",type:"button","aria-label":"Previous image",children:i.jsx("svg",{className:"w-4 h-4 text-neutral-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsx("button",{onClick:s=>{s.preventDefault(),s.stopPropagation(),A(s=>(s+1)%e.images.length)},className:"mr-2 p-1.5 bg-white/80 hover:bg-white rounded-full shadow-md backdrop-blur-sm transition-all duration-200",type:"button","aria-label":"Next image",children:i.jsx("svg",{className:"w-4 h-4 text-neutral-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),!S&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-neutral-100",children:i.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})})]}),i.jsxs("div",{className:"p-4 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsx("h3",{className:"font-semibold text-neutral-900 line-clamp-2 text-sm leading-tight group-hover:text-primary-600 transition-colors",children:e.title})}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-neutral-600",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:"flex items-center",children:[...Array(5)].map((s,a)=>i.jsx(j,{className:"w-3 h-3 "+(a<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-neutral-300")},a))}),i.jsxs("span",{className:"text-neutral-500",children:["(",e.reviewCount,")"]})]}),i.jsxs("div",{className:"flex items-center space-x-3 text-neutral-500",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(b,{className:"w-3 h-3"}),i.jsx("span",{children:e.views})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(n,{className:"w-3 h-3"}),i.jsx("span",{children:e.favorites})]})]})]})]}),M&&i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs bg-neutral-50 p-2 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-neutral-600",children:["ar"===u?"السنة":"Year",":"]}),i.jsx("span",{className:"font-medium",children:M.year})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-neutral-600",children:["ar"===u?"الكيلومترات":"Mileage",":"]}),i.jsxs("span",{className:"font-medium",children:[null==(x=M.mileage)?void 0:x.toLocaleString()," km"]})]}),i.jsxs("div",{className:"col-span-2 flex justify-between",children:[i.jsxs("span",{className:"text-neutral-600",children:["ar"===u?"الطراز":"Model",":"]}),i.jsxs("span",{className:"font-medium",children:[M.make," ",M.model]})]})]}),e.features&&e.features.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.features.slice(0,3).map((e,s)=>i.jsx("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-full",children:e},s)),e.features.length>3&&i.jsxs("span",{className:"px-2 py-1 bg-neutral-100 text-neutral-600 text-xs rounded-full",children:["+",e.features.length-3]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-lg font-bold text-primary-600",children:D(e.price)}),e.originalPrice&&e.originalPrice>e.price&&i.jsx("span",{className:"text-sm text-neutral-500 line-through",children:D(e.originalPrice)})]}),i.jsx("div",{className:"flex items-center text-xs",children:e.inStock?i.jsxs(i.Fragment,{children:[i.jsx(v,{className:"w-3 h-3 text-green-500 mr-1"}),i.jsx("span",{className:"text-green-600",children:"ar"===u?"متوفر":"In Stock"})]}):i.jsx("span",{className:"text-red-600",children:"ar"===u?"غير متوفر":"Out of Stock"})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(g.button,{onClick:()=>F(!0),className:"px-3 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-700 text-xs font-medium rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",children:"ar"===u?"التفاصيل":"Details"}),i.jsx(g.button,{onClick:s=>{s.preventDefault(),s.stopPropagation(),I?(N(e.id),d.success("ar"===u?"تم إزالة المنتج من المفضلة":"Removed from favorites")):(f(e.id),d.success("ar"===u?"تم إضافة المنتج للمفضلة":"Added to favorites")),null==a||a(e.id,!I)},className:"p-2 rounded-full hover:bg-neutral-100 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},type:"button","aria-label":I?"Remove from favorites":"Add to favorites",children:I?i.jsx(h,{className:"w-5 h-5 text-red-500"}):i.jsx(n,{className:"w-5 h-5 text-neutral-400"})}),"services"!==e.category&&e.inStock&&i.jsx(g.button,{onClick:a=>{a.preventDefault(),a.stopPropagation(),e.inStock||d.error("ar"===u?"المنتج غير متوفر":"Product is out of stock"),null==s||s(e.id,1),d.success("ar"===u?"تم إضافة المنتج للسلة":"Added to cart")},className:"p-2 bg-primary-500 text-white rounded-full hover:bg-primary-600 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},type:"button","aria-label":"Add to cart",children:i.jsx(o,{className:"w-5 h-5"})})]})]})]}),"published"===e.status&&i.jsx("div",{className:"absolute top-0 right-0 bg-green-500 text-white p-1 rounded-bl-lg",children:i.jsx(v,{className:"w-4 h-4"})})]}),y&&i.jsx(T,{product:e,isOpen:y,onClose:()=>k(!1),onAddToCart:s,onToggleFavorite:a}),C&&i.jsx(L,{product:e,isOpen:C,onClose:()=>F(!1),onAddToCart:e=>{s&&s(e.id,1)},onToggleFavorite:e=>{const s=w(e);s?N(e):f(e),null==a||a(e,!s)},isFavorite:I})]})};export{S as F,O as P,E as a,I as b,C as c};
