var e=(e,s,a)=>new Promise((t,r)=>{var l=e=>{try{n(a.next(e))}catch(s){r(s)}},i=e=>{try{n(a.throw(e))}catch(s){r(s)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(l,i);n((a=a.apply(e,s)).next())});import{a as s,u as a,z as t,j as r,e as l,f as i}from"./index-BcRxZzHF.js";import{f as n,u as c,r as o,L as d}from"./react-vendor-Dd_kQiD4.js";import{P as m}from"./product.service-BpTMTcSN.js";import{F as x,a as u,b as h,c as p,P as j}from"./ProductCard-ByvZvT9M.js";import{E as b,H as f}from"./CustomIcons-DM4YvvRG.js";import{F as g}from"./ArrowLeftIcon-DbhCnCPG.js";import{A as N,m as v}from"./ui-vendor-BBNIAXd4.js";import{F as y}from"./StarIcon-Bsyjj-I4.js";import{F as w}from"./EyeIcon-ySdkiqHN.js";import{F as k}from"./CheckBadgeIcon-CtGb0htM.js";import{a as S,F as C}from"./TruckIcon-fIGukBsm.js";import"./firebase-vendor-BCleZyoM.js";const F=()=>{var F,P,I;const{id:T}=n(),M=c(),{language:q,isFavorite:A,addToFavorites:R,removeFromFavorites:D,addToCart:L}=s(),{user:B}=a(),[E,H]=o.useState(null),[G,z]=o.useState([]),[Q,U]=o.useState(!0),[O,V]=o.useState(0),[W,Y]=o.useState(1),[J,K]=o.useState("details");o.useEffect(()=>{T&&X(T)},[T]);const X=s=>e(null,null,function*(){try{U(!0);const e=m.getSampleProducts().find(e=>e.id===s);e||(t.error("ar"===q?"Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯":"Product not found"),M("/marketplace")),H(e),m.incrementViews(s);const a=yield m.getRecommendations(s,4);z(a)}catch(e){}finally{U(!1)}}),Z=e=>new Intl.NumberFormat("ar"===q?"ar-EG":"en-US",{style:"currency",currency:"EGP",minimumFractionDigits:0}).format(e);if(Q)return r.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[r.jsx("div",{className:"bg-white border-b border-neutral-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("nav",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(d,{to:"/",className:"text-neutral-500 hover:text-neutral-700",children:"ar"===q?"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©":"Home"}),r.jsx("span",{className:"text-neutral-400",children:"/"}),r.jsx(d,{to:"/marketplace",className:"text-neutral-500 hover:text-neutral-700",children:"ar"===q?"Ø§Ù„Ø³ÙˆÙ‚":"Marketplace"}),r.jsx("span",{className:"text-neutral-400",children:"/"}),r.jsx("span",{className:"text-neutral-600",children:"ar"===q?"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...":"Loading..."})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsx("div",{className:"flex justify-center items-center py-20",children:r.jsx(b,{size:"lg",text:"ar"===q?"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬...":"Loading product..."})})})]});if(!E)return r.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"ðŸ˜•"}),r.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"ar"===q?"Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯":"Product Not Found"}),r.jsxs(d,{to:"/marketplace",className:"btn btn-primary",children:[r.jsx(g,{className:"w-4 h-4 mr-2"}),"ar"===q?"Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø³ÙˆÙ‚":"Back to Marketplace"]})]})});const $="cars"===E.category,_=$?E.carDetails:null,ee=A(E.id);return r.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[r.jsx("div",{className:"bg-white border-b border-neutral-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("nav",{className:"flex items-center space-x-2 text-sm",children:[r.jsx(d,{to:"/",className:"text-neutral-500 hover:text-neutral-700",children:"ar"===q?"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©":"Home"}),r.jsx("span",{className:"text-neutral-400",children:"/"}),r.jsx(d,{to:"/marketplace",className:"text-neutral-500 hover:text-neutral-700",children:"ar"===q?"Ø§Ù„Ø³ÙˆÙ‚":"Marketplace"}),r.jsx("span",{className:"text-neutral-400",children:"/"}),r.jsx("span",{className:"text-neutral-900 font-medium line-clamp-1",children:E.title})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"aspect-square bg-neutral-100 rounded-xl overflow-hidden relative",children:[r.jsx(N,{mode:"wait",children:r.jsx(v.img,{src:null==(F=E.images[O])?void 0:F.url,alt:(null==(P=E.images[O])?void 0:P.alt)||E.title,className:"w-full h-full object-cover",initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3}},O)}),E.images.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{E&&V(e=>(e-1+E.images.length)%E.images.length)},className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors",children:r.jsx(x,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>{E&&V(e=>(e+1)%E.images.length)},className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors",children:r.jsx(u,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:[O+1," / ",E.images.length]}),E.originalPrice&&E.originalPrice>E.price&&r.jsxs("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:["-",Math.round((E.originalPrice-E.price)/E.originalPrice*100),"%"]})]}),E.images.length>1&&r.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:E.images.map((e,s)=>r.jsx("button",{onClick:()=>V(s),className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 transition-colors "+(s===O?"border-primary-500":"border-neutral-200 hover:border-primary-300"),children:r.jsx("img",{src:e.url,alt:e.alt,className:"w-full h-full object-cover"})},s))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium "+("new"===E.condition?"bg-green-100 text-green-800":"used"===E.condition?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"),children:(se=E.condition,(null==(ae={new:{ar:"Ø¬Ø¯ÙŠØ¯",en:"New"},used:{ar:"Ù…Ø³ØªØ¹Ù…Ù„",en:"Used"},refurbished:{ar:"Ù…Ø¬Ø¯Ø¯",en:"Refurbished"}}[se])?void 0:ae[q])||se)}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{B||t.error("ar"===q?"ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹":"Please login first"),E&&(A(E.id)?(D(E.id),t.success("ar"===q?"ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø©":"Removed from favorites")):(R(E.id),t.success("ar"===q?"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ù…ÙØ¶Ù„Ø©":"Added to favorites")))},className:"p-2 rounded-full hover:bg-neutral-100 transition-colors",children:ee?r.jsx(f,{className:"w-6 h-6 text-red-500"}):r.jsx(l,{className:"w-6 h-6 text-neutral-400"})}),r.jsx("button",{onClick:()=>e(null,null,function*(){if(E)if(navigator.share)try{yield navigator.share({title:E.title,text:E.description,url:window.location.href})}catch(e){}else navigator.clipboard.writeText(window.location.href),t.success("ar"===q?"ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·":"Link copied to clipboard")}),className:"p-2 rounded-full hover:bg-neutral-100 transition-colors",children:r.jsx(h,{className:"w-6 h-6 text-neutral-400"})})]})]}),r.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-4",children:E.title}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"flex items-center",children:[...Array(5)].map((e,s)=>r.jsx(y,{className:"w-5 h-5 "+(s<Math.floor(E.rating)?"text-yellow-400 fill-current":"text-neutral-300")},s))}),r.jsxs("span",{className:"text-neutral-600",children:[E.rating.toFixed(1)," (",E.reviewCount," ","ar"===q?"ØªÙ‚ÙŠÙŠÙ…":"reviews",")"]})]}),r.jsxs("div",{className:"flex items-center text-neutral-500",children:[r.jsx(w,{className:"w-4 h-4 mr-1"}),E.views," ","ar"===q?"Ù…Ø´Ø§Ù‡Ø¯Ø©":"views"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:"text-4xl font-bold text-primary-600",children:Z(E.price)}),E.originalPrice&&E.originalPrice>E.price&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-2xl text-neutral-500 line-through",children:Z(E.originalPrice)}),r.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-sm font-medium",children:["ar"===q?"Ø®ØµÙ…":"Save"," ",Z(E.originalPrice-E.price)]})]})]}),r.jsx("div",{className:"flex items-center",children:E.inStock?r.jsxs(r.Fragment,{children:[r.jsx(k,{className:"w-5 h-5 text-green-500 mr-2"}),r.jsx("span",{className:"text-green-600 font-medium",children:"ar"===q?"Ù…ØªÙˆÙØ± ÙÙŠ Ø§Ù„Ù…Ø®Ø²Ù†":"In Stock"}),E.quantity>1&&r.jsxs("span",{className:"text-neutral-500 ml-2",children:["(",E.quantity," ","ar"===q?"Ù‚Ø·Ø¹Ø© Ù…ØªØ§Ø­Ø©":"available",")"]})]}):r.jsx("span",{className:"text-red-600 font-medium",children:"ar"===q?"ØºÙŠØ± Ù…ØªÙˆÙØ±":"Out of Stock"})})]}),$&&_&&r.jsxs("div",{className:"p-6 bg-neutral-50 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-neutral-900 mb-4",children:"ar"===q?"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø³ÙŠØ§Ø±Ø©":"Car Details"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-neutral-600",children:"ar"===q?"Ø§Ù„Ø³Ù†Ø©:":"Year:"}),r.jsx("span",{className:"font-medium",children:_.year})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-neutral-600",children:"ar"===q?"Ø§Ù„Ù…Ø³Ø§ÙØ©:":"Mileage:"}),r.jsxs("span",{className:"font-medium",children:[null==(I=_.mileage)?void 0:I.toLocaleString()," ","ar"===q?"ÙƒÙ…":"km"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-neutral-600",children:"ar"===q?"Ø§Ù„ÙˆÙ‚ÙˆØ¯:":"Fuel:"}),r.jsx("span",{className:"font-medium",children:_.fuelType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-neutral-600",children:"ar"===q?"Ø§Ù„Ù†Ø§Ù‚Ù„:":"Transmission:"}),r.jsx("span",{className:"font-medium",children:_.transmission})]}),r.jsxs("div",{className:"col-span-2 flex justify-between",children:[r.jsx("span",{className:"text-neutral-600",children:"ar"===q?"Ø§Ù„Ø·Ø±Ø§Ø²:":"Model:"}),r.jsxs("span",{className:"font-medium",children:[_.make," ",_.model]})]})]})]}),E.features&&E.features.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-neutral-900 mb-3",children:"ar"===q?"Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª":"Features"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:E.features.map((e,s)=>r.jsx("span",{className:"px-3 py-2 bg-primary-100 text-primary-800 text-sm rounded-full font-medium",children:e},s))})]}),"services"!==E.category&&E.inStock&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-neutral-700 font-medium",children:"ar"===q?"Ø§Ù„ÙƒÙ…ÙŠØ©:":"Quantity:"}),r.jsxs("div",{className:"flex items-center border border-neutral-300 rounded-lg",children:[r.jsx("button",{onClick:()=>Y(Math.max(1,W-1)),className:"px-4 py-2 hover:bg-neutral-100 transition-colors",children:"-"}),r.jsx("span",{className:"px-4 py-2 border-x border-neutral-300 min-w-[3rem] text-center",children:W}),r.jsx("button",{onClick:()=>Y(Math.min(E.quantity,W+1)),className:"px-4 py-2 hover:bg-neutral-100 transition-colors",children:"+"})]})]}),r.jsxs(v.button,{onClick:()=>{B||t.error("ar"===q?"ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹":"Please login first"),E&&("services"===E.category&&t("ar"===q?"Ù‚Ø±ÙŠØ¨Ø§Ù‹ - Ø­Ø¬Ø² Ø§Ù„Ø®Ø¯Ù…Ø§Øª":"Coming Soon - Service Booking",{icon:"â„¹ï¸"}),L({productId:E.id,quantity:W}),t.success("ar"===q?"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ø³Ù„Ø©":"Added to cart"))},className:"w-full bg-primary-500 text-white py-4 px-6 rounded-lg font-semibold hover:bg-primary-600 transition-colors flex items-center justify-center text-lg",whileHover:{scale:1.02},whileTap:{scale:.98},children:[r.jsx(i,{className:"w-6 h-6 mr-2"}),"ar"===q?"Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©":"Add to Cart"]})]}),"services"===E.category&&r.jsxs(v.button,{onClick:()=>t("ar"===q?"Ù‚Ø±ÙŠØ¨Ø§Ù‹ - Ø­Ø¬Ø² Ø§Ù„Ø®Ø¯Ù…Ø§Øª":"Coming Soon - Service Booking",{icon:"â„¹ï¸"}),className:"w-full bg-primary-500 text-white py-4 px-6 rounded-lg font-semibold hover:bg-primary-600 transition-colors flex items-center justify-center text-lg",whileHover:{scale:1.02},whileTap:{scale:.98},children:[r.jsx(p,{className:"w-6 h-6 mr-2"}),"ar"===q?"Ø­Ø¬Ø² Ø§Ù„Ø®Ø¯Ù…Ø©":"Book Service"]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-6 border-t border-neutral-200",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(S,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-neutral-600",children:"ar"===q?"Ø¯ÙØ¹ Ø¢Ù…Ù†":"Secure Payment"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(C,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-neutral-600",children:"ar"===q?"ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹":"Fast Delivery"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(k,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-neutral-600",children:"ar"===q?"Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©":"Quality Guarantee"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 p-6 mb-12",children:[r.jsx("div",{className:"border-b border-neutral-200 mb-6",children:r.jsx("nav",{className:"flex space-x-8",children:[{id:"details",label:"ar"===q?"Ø§Ù„ØªÙØ§ØµÙŠÙ„":"Details"},{id:"specs",label:"ar"===q?"Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª":"Specifications"},{id:"reviews",label:"ar"===q?"Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª":"Reviews"}].map(e=>r.jsx("button",{onClick:()=>K(e.id),className:"py-3 px-1 border-b-2 font-medium text-sm "+(J===e.id?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700"),children:e.label},e.id))})}),r.jsxs("div",{className:"min-h-[200px]",children:["details"===J&&r.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-neutral-900 mb-3",children:"ar"===q?"Ø§Ù„ÙˆØµÙ":"Description"}),r.jsx("p",{className:"text-neutral-700 leading-relaxed text-lg",children:E.description})]}),E.warranty&&r.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx(S,{className:"w-5 h-5 text-green-600 mr-2"}),r.jsx("h4",{className:"font-semibold text-green-900",children:"ar"===q?"Ø§Ù„Ø¶Ù…Ø§Ù†":"Warranty"})]}),r.jsxs("p",{className:"text-green-800",children:[E.warranty.duration," ","ar"===q?"Ø´Ù‡Ø±":"months"," -"," ",E.warranty.coverage]})]})]}),"specs"===J&&r.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:E.specifications.map((e,s)=>r.jsxs("div",{className:"flex justify-between py-3 border-b border-neutral-100",children:[r.jsx("span",{className:"text-neutral-600 font-medium",children:e.name}),r.jsx("span",{className:"font-semibold text-neutral-900",children:e.value})]},s))}),"reviews"===J&&r.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 text-neutral-500",children:[r.jsx(y,{className:"w-16 h-16 mx-auto mb-4 text-neutral-300"}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"ar"===q?"Ù‚Ø±ÙŠØ¨Ø§Ù‹ - Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª":"Coming Soon - Reviews System"}),r.jsx("p",{children:"ar"===q?"Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ù‚Ø±ÙŠØ¨Ø§Ù‹":"Review system will be added soon"})]})]})]}),G.length>0&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-neutral-900 mb-6",children:"ar"===q?"Ù…Ù†ØªØ¬Ø§Øª Ø°Ø§Øª ØµÙ„Ø©":"Related Products"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:G.map(e=>r.jsx(j,{product:e,onAddToCart:(e,s)=>L({productId:e,quantity:s}),onToggleFavorite:(e,s)=>{s?R(e):D(e)}},e.id))})]})]})]});var se,ae};export{F as default};
