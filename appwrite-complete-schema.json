{
  "$schema": "https://appwrite.io/schemas/appwrite.json",
  "projectId": "",
  "projectName": "Souk El-Sayarat",
  "settings": {
    "services": {
      "account": true,
      "avatars": true,
      "databases": true,
      "locale": true,
      "health": true,
      "storage": true,
      "teams": true,
      "users": true,
      "functions": true,
      "graphql": true,
      "messaging": true
    }
  },
  "databases": [
    {
      "$id": "souk_main_db",
      "name": "Souk Main Database",
      "enabled": true
    }
  ],
  "collections": [
    {
      "$id": "users",
      "$permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "databaseId": "souk_main_db",
      "name": "Users",
      "enabled": true,
      "documentSecurity": true,
      "attributes": [
        {
          "key": "email",
          "type": "string",
          "required": true,
          "size": 255
        },
        {
          "key": "displayName",
          "type": "string",
          "required": true,
          "size": 255
        },
        {
          "key": "phoneNumber",
          "type": "string",
          "required": false,
          "size": 20
        },
        {
          "key": "photoURL",
          "type": "string",
          "required": false,
          "size": 500
        },
        {
          "key": "role",
          "type": "string",
          "required": true,
          "default": "customer",
          "array": false,
          "format": "enum",
          "elements": ["customer", "vendor", "admin"]
        },
        {
          "key": "isActive",
          "type": "boolean",
          "required": true,
          "default": true
        },
        {
          "key": "preferences",
          "type": "string",
          "required": false,
          "size": 10000
        },
        {
          "key": "createdAt",
          "type": "datetime",
          "required": true
        },
        {
          "key": "updatedAt",
          "type": "datetime",
          "required": true
        }
      ],
      "indexes": [
        {
          "key": "email_index",
          "type": "unique",
          "attributes": ["email"]
        },
        {
          "key": "role_index",
          "type": "key",
          "attributes": ["role"]
        }
      ]
    },
    {
      "$id": "products",
      "$permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "databaseId": "souk_main_db",
      "name": "Products",
      "enabled": true,
      "documentSecurity": true,
      "attributes": [
        {
          "key": "title",
          "type": "string",
          "required": true,
          "size": 255
        },
        {
          "key": "titleAr",
          "type": "string",
          "required": false,
          "size": 255
        },
        {
          "key": "description",
          "type": "string",
          "required": true,
          "size": 10000
        },
        {
          "key": "descriptionAr",
          "type": "string",
          "required": false,
          "size": 10000
        },
        {
          "key": "price",
          "type": "double",
          "required": true
        },
        {
          "key": "currency",
          "type": "string",
          "required": true,
          "default": "EGP",
          "size": 10
        },
        {
          "key": "category",
          "type": "string",
          "required": true,
          "size": 100
        },
        {
          "key": "subcategory",
          "type": "string",
          "required": false,
          "size": 100
        },
        {
          "key": "brand",
          "type": "string",
          "required": false,
          "size": 100
        },
        {
          "key": "model",
          "type": "string",
          "required": false,
          "size": 100
        },
        {
          "key": "year",
          "type": "integer",
          "required": false
        },
        {
          "key": "condition",
          "type": "string",
          "required": false,
          "size": 50
        },
        {
          "key": "images",
          "type": "string",
          "required": false,
          "array": true,
          "size": 500
        },
        {
          "key": "vendorId",
          "type": "string",
          "required": true,
          "size": 255
        },
        {
          "key": "status",
          "type": "string",
          "required": true,
          "default": "pending_approval",
          "format": "enum",
          "elements": ["pending_approval", "approved", "rejected", "inactive"]
        },
        {
          "key": "stock",
          "type": "integer",
          "required": false,
          "default": 0
        },
        {
          "key": "sku",
          "type": "string",
          "required": false,
          "size": 100
        },
        {
          "key": "tags",
          "type": "string",
          "required": false,
          "array": true,
          "size": 50
        },
        {
          "key": "specifications",
          "type": "string",
          "required": false,
          "size": 50000
        },
        {
          "key": "createdAt",
          "type": "datetime",
          "required": true
        },
        {
          "key": "updatedAt",
          "type": "datetime",
          "required": true
        }
      ],
      "indexes": [
        {
          "key": "category_index",
          "type": "key",
          "attributes": ["category"]
        },
        {
          "key": "vendor_index",
          "type": "key",
          "attributes": ["vendorId"]
        },
        {
          "key": "status_index",
          "type": "key",
          "attributes": ["status"]
        },
        {
          "key": "price_index",
          "type": "key",
          "attributes": ["price"]
        }
      ]
    },
    {
      "$id": "orders",
      "$permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "databaseId": "souk_main_db",
      "name": "Orders",
      "enabled": true,
      "documentSecurity": true,
      "attributes": [
        {
          "key": "customerId",
          "type": "string",
          "required": true,
          "size": 255
        },
        {
          "key": "status",
          "type": "string",
          "required": true,
          "default": "pending",
          "format": "enum",
          "elements": ["pending", "confirmed", "processing", "shipped", "delivered", "cancelled", "refunded"]
        },
        {
          "key": "totalAmount",
          "type": "double",
          "required": true
        },
        {
          "key": "currency",
          "type": "string",
          "required": true,
          "default": "EGP",
          "size": 10
        },
        {
          "key": "items",
          "type": "string",
          "required": true,
          "size": 100000
        },
        {
          "key": "shippingAddress",
          "type": "string",
          "required": true,
          "size": 10000
        },
        {
          "key": "paymentMethod",
          "type": "string",
          "required": true,
          "size": 50
        },
        {
          "key": "paymentStatus",
          "type": "string",
          "required": true,
          "default": "pending",
          "format": "enum",
          "elements": ["pending", "paid", "failed", "refunded"]
        },
        {
          "key": "notes",
          "type": "string",
          "required": false,
          "size": 5000
        },
        {
          "key": "createdAt",
          "type": "datetime",
          "required": true
        },
        {
          "key": "updatedAt",
          "type": "datetime",
          "required": true
        }
      ],
      "indexes": [
        {
          "key": "customer_index",
          "type": "key",
          "attributes": ["customerId"]
        },
        {
          "key": "status_index",
          "type": "key",
          "attributes": ["status"]
        },
        {
          "key": "payment_status_index",
          "type": "key",
          "attributes": ["paymentStatus"]
        }
      ]
    },
    {
      "$id": "vendorApplications",
      "$permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "databaseId": "souk_main_db",
      "name": "Vendor Applications",
      "enabled": true,
      "documentSecurity": true,
      "attributes": [
        {
          "key": "userId",
          "type": "string",
          "required": true,
          "size": 255
        },
        {
          "key": "businessName",
          "type": "string",
          "required": true,
          "size": 255
        },
        {
          "key": "businessType",
          "type": "string",
          "required": true,
          "size": 100
        },
        {
          "key": "taxId",
          "type": "string",
          "required": false,
          "size": 50
        },
        {
          "key": "commercialRegister",
          "type": "string",
          "required": false,
          "size": 50
        },
        {
          "key": "address",
          "type": "string",
          "required": true,
          "size": 5000
        },
        {
          "key": "contactInfo",
          "type": "string",
          "required": true,
          "size": 5000
        },
        {
          "key": "documents",
          "type": "string",
          "required": false,
          "array": true,
          "size": 500
        },
        {
          "key": "status",
          "type": "string",
          "required": true,
          "default": "pending",
          "format": "enum",
          "elements": ["pending", "approved", "rejected", "under_review"]
        },
        {
          "key": "subscriptionPlan",
          "type": "string",
          "required": true,
          "size": 50
        },
        {
          "key": "reviewNotes",
          "type": "string",
          "required": false,
          "size": 5000
        },
        {
          "key": "reviewedBy",
          "type": "string",
          "required": false,
          "size": 255
        },
        {
          "key": "reviewedAt",
          "type": "datetime",
          "required": false
        },
        {
          "key": "createdAt",
          "type": "datetime",
          "required": true
        },
        {
          "key": "updatedAt",
          "type": "datetime",
          "required": true
        }
      ],
      "indexes": [
        {
          "key": "user_index",
          "type": "key",
          "attributes": ["userId"]
        },
        {
          "key": "status_index",
          "type": "key",
          "attributes": ["status"]
        },
        {
          "key": "business_type_index",
          "type": "key",
          "attributes": ["businessType"]
        }
      ]
    },
    {
      "$id": "carListings",
      "$permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "databaseId": "souk_main_db",
      "name": "Car Listings",
      "enabled": true,
      "documentSecurity": true,
      "attributes": [
        {
          "key": "sellerId",
          "type": "string",
          "required": true,
          "size": 255
        },
        {
          "key": "make",
          "type": "string",
          "required": true,
          "size": 100
        },
        {
          "key": "model",
          "type": "string",
          "required": true,
          "size": 100
        },
        {
          "key": "year",
          "type": "integer",
          "required": true
        },
        {
          "key": "mileage",
          "type": "integer",
          "required": true
        },
        {
          "key": "condition",
          "type": "string",
          "required": true,
          "format": "enum",
          "elements": ["excellent", "very_good", "good", "fair", "poor"]
        },
        {
          "key": "price",
          "type": "double",
          "required": true
        },
        {
          "key": "currency",
          "type": "string",
          "required": true,
          "default": "EGP",
          "size": 10
        },
        {
          "key": "description",
          "type": "string",
          "required": true,
          "size": 10000
        },
        {
          "key": "descriptionAr",
          "type": "string",
          "required": false,
          "size": 10000
        },
        {
          "key": "images",
          "type": "string",
          "required": false,
          "array": true,
          "size": 500
        },
        {
          "key": "features",
          "type": "string",
          "required": false,
          "array": true,
          "size": 100
        },
        {
          "key": "location",
          "type": "string",
          "required": true,
          "size": 1000
        },
        {
          "key": "contactInfo",
          "type": "string",
          "required": true,
          "size": 1000
        },
        {
          "key": "status",
          "type": "string",
          "required": true,
          "default": "pending_approval",
          "format": "enum",
          "elements": ["pending_approval", "approved", "rejected", "sold", "inactive"]
        },
        {
          "key": "views",
          "type": "integer",
          "required": false,
          "default": 0
        },
        {
          "key": "inquiries",
          "type": "integer",
          "required": false,
          "default": 0
        },
        {
          "key": "createdAt",
          "type": "datetime",
          "required": true
        },
        {
          "key": "updatedAt",
          "type": "datetime",
          "required": true
        }
      ],
      "indexes": [
        {
          "key": "seller_index",
          "type": "key",
          "attributes": ["sellerId"]
        },
        {
          "key": "make_model_index",
          "type": "key",
          "attributes": ["make", "model"]
        },
        {
          "key": "year_index",
          "type": "key",
          "attributes": ["year"]
        },
        {
          "key": "price_index",
          "type": "key",
          "attributes": ["price"]
        },
        {
          "key": "status_index",
          "type": "key",
          "attributes": ["status"]
        }
      ]
    }
  ],
  "buckets": [
    {
      "$id": "product_images",
      "name": "Product Images",
      "permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "fileSecurity": true,
      "enabled": true,
      "maximumFileSize": 10485760,
      "allowedFileExtensions": ["jpg", "jpeg", "png", "webp", "gif"],
      "compression": "gzip",
      "encryption": true,
      "antivirus": true
    },
    {
      "$id": "vendor_documents",
      "name": "Vendor Documents", 
      "permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "fileSecurity": true,
      "enabled": true,
      "maximumFileSize": 20971520,
      "allowedFileExtensions": ["pdf", "doc", "docx", "jpg", "jpeg", "png"],
      "compression": "gzip",
      "encryption": true,
      "antivirus": true
    },
    {
      "$id": "car_listing_images",
      "name": "Car Listing Images",
      "permissions": [
        "read(\"any\")",
        "create(\"users\")",
        "update(\"users\")",
        "delete(\"users\")"
      ],
      "fileSecurity": true,
      "enabled": true,
      "maximumFileSize": 10485760,
      "allowedFileExtensions": ["jpg", "jpeg", "png", "webp"],
      "compression": "gzip",
      "encryption": true,
      "antivirus": true
    }
  ]
}